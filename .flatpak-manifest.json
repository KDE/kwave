{
    "id": "org.kde.kwave",
    "runtime": "org.kde.Platform",
    "runtime-version": "6.8",
    "sdk": "org.kde.Sdk",
    "command": "kwave",
    "desktop-file-name-suffix": " (Nightly)",
    "finish-args": [
        "--device=dri",
        "--share=ipc",
        "--socket=fallback-x11",
        "--socket=pulseaudio",
        "--socket=wayland",
        "--system-talk-name=org.freedesktop.UDisks2"
    ],
    "modules": [
        {
            "name": "libaudiofile",
            "buildsystem": "autotools",
            "config-opts": ["--disable-docs", "--disable-examples"],
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/mpruett/audiofile",
                    "commit": "b62c902dd258125cac86cd2df21fc898035a43d3"
                }
            ],
            "cleanup": [
                "/bin",
                "/include",
                "/lib/pkgconfig",
                "/share/man",
                "*.la",
                "*.a"
            ]
        },
        {
            "name": "id3lib",
            "buildsystem": "cmake-ninja",
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/thekhalifa/id3lib",
                    "commit": "497fe4910c4ad3ee52fb565ef47077aa7e75bff6"
                }
            ],
            "post-install": [
                "cp -r include/* /app/include/"
            ],
            "cleanup": [
                "/bin",
                "/include",
                "/lib/debug/bin",
                "*.la"
            ]
        },
        {
            "name" : "libmad",
            "buildsystem": "cmake-ninja",
            "sources": [
                {
                "type" : "archive",
                "url" : "https://codeberg.org/tenacityteam/libmad/releases/download/0.16.4/libmad-0.16.4.tar.gz",
                "sha256" : "0f6bfb36c554075494b5fc2c646d08de7364819540f23bab30ae73fa1b5cfe65"
                }
            ],
            "cleanup": [
                "/include",
                "/lib/cmake",
                "/lib/pkgconfig"
            ]
        },
        {
            "name": "kwave",
            "buildsystem": "cmake-ninja",
            "config-opts": [
                "-DCMAKE_BUILD_TYPE=RelWithDebInfo",
                "-DWITH_OPTIMIZED_MEMCPY=OFF"
                ],
            "builddir": true,
            "sources": [
                {
                    "type": "dir",
                    "path": "."
                }
            ]
        }
    ]
}
