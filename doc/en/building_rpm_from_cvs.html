<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Building RPM packages from CVS</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.54"><LINK
REL="HOME"
TITLE="The Kwave Handbook"
HREF="index.html"><LINK
REL="UP"
TITLE="Installation"
HREF="installation.html"><LINK
REL="PREVIOUS"
TITLE="Building RPM packages from tar.gz archives"
HREF="building_rpm_from_targz.html"><LINK
REL="NEXT"
TITLE="Relocating the binary RPM packages"
HREF="relocating_rpm.html"><META
HTTP-EQUIV="Content-Style-Type"
CONTENT="text/css"><LINK
REL="stylesheet"
HREF="common/kde-common.css"
TYPE="text/css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=iso-8859-1"><META
HTTP-EQUIV="Content-Language"
CONTENT="en"><LINK
REL="stylesheet"
HREF="common/kde-localised.css"
TYPE="text/css"
TITLE="KDE-English"><LINK
REL="stylesheet"
HREF="common/kde-default.css"
TYPE="text/css"
TITLE="KDE-Default"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#aa0000"
STYLE="font-family: sans-serif;"
><A
HREF="http://www.kde.org/"
><IMG
SRC="common/logotp3.png"
BORDER="0"
ALT="The K Desktop Environment"
HEIGHT="62"
WIDTH="229"></A
><HR
WIDTH="100%"
SIZE="2"
ALIGN="CENTER"
NOSHADE="NOSHADE"><DIV
ALIGN="RIGHT"
CLASS="NAVBAR"
><P
><A
HREF="relocating_rpm.html"
>Next</A
> <A
HREF="building_rpm_from_targz.html"
>Prev</A
> <A
HREF="index.html"
>Table of Contents</A
></P
></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="BUILDING_RPM_FROM_CVS"
>2.5. Building RPM packages from CVS</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="CVS_CHECKOUT"
>2.5.1. Checking out the sources</A
></H2
><P
>	For initially checking out the sources you will need some disk space
	(about 15 megabytes) in a directory of your choice, the cvs package
	of your favorite distribution and full access to the internet. If you 
	get error messages about rejected connections you either have typed
	something wrong or your provider doesn't give you full access.
	A good place for the source files will be <TT
CLASS="FILENAME"
>"$HOME/src"</TT
>.
    </P
><OL
TYPE="1"
><LI
><P
>	First create the directory that will receive the subdirectoy with
	libkwave and kwave and change into it:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="SCREEN"
> <TT
CLASS="PROMPT"
>% </TT
><B
CLASS="COMMAND"
>mkdir -p <TT
CLASS="REPLACEABLE"
><I
>$HOME/src</I
></TT
></B
>
 <TT
CLASS="PROMPT"
>% </TT
><B
CLASS="COMMAND"
>cd <TT
CLASS="REPLACEABLE"
><I
>$HOME/src</I
></TT
></B
></PRE
></TD
></TR
></TABLE
>
    </P
></LI
><LI
><P
>	Then log in into the CVS server. As I guess that you want to do that
	as normal user, you log in as anonymous:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="SCREEN"
> <TT
CLASS="PROMPT"
>% </TT
><B
CLASS="COMMAND"
>cvs -d:pserver:anonymous@cvs.kwave.sourceforge.net:/cvsroot/kwave login</B
></PRE
></TD
></TR
></TABLE
>
	Then the server asks you for a password. Simply press enter, as we
	do not have a password for anonymous access.
    </P
></LI
><LI
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="SCREEN"
> <TT
CLASS="PROMPT"
>% </TT
><B
CLASS="COMMAND"
>cvs -z3 -d:pserver:anonymous@cvs.kwave.sourceforge.net:/cvsroot/kwave co libkwave</B
></PRE
></TD
></TR
></TABLE
>
    </P
></LI
><LI
><P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="SCREEN"
> <TT
CLASS="PROMPT"
>% </TT
><B
CLASS="COMMAND"
>cvs -z3 -d:pserver:anonymous@cvs.kwave.sourceforge.net:/cvsroot/kwave co kwave</B
></PRE
></TD
></TR
></TABLE
>
    </P
></LI
></OL
><DIV
CLASS="WARNING"
><TABLE
CLASS="WARNING"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="common/warning.png"
HSPACE="5"
ALT="Warning"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>	There <I
CLASS="EMPHASIS"
>must not</I
> be a directory named 
	<TT
CLASS="FILENAME"
>libkwave</TT
> or <TT
CLASS="FILENAME"
>kwave</TT
> under 
	the directory you want to check out. Otherwise the cvs program will
	complain about already existing files and the checkout will
	not work.
    </P
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="CVS_UPDATE"
>2.5.2. Updating sources from CVS</A
></H2
><P
>	The procedure described in the previous section is only necessary
	once. For further updates it is much easier. Just change into the
	directory you want to update and do the following:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
> <TT
CLASS="PROMPT"
>% </TT
><B
CLASS="COMMAND"
>make distclean</B
>
 <TT
CLASS="PROMPT"
>% </TT
><B
CLASS="COMMAND"
>cvs update</B
></PRE
></TD
></TR
></TABLE
>
	Then go on to the next section and compile as usual.
    </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="CVS_COMPILING"
>2.5.3. Compiling</A
></H2
><P
>	Building rpm archives from a CVS snapshot is quite simple. The procedure 
	is nearly the same as described in the last section, so it unhappily also 
	has the same problem with the <B
CLASS="COMMAND"
>rpm -ta</B
> command 
	our method internally uses.
	Like in the previous chapter, <TT
CLASS="REPLACEABLE"
><I
>[arch]</I
></TT
> stands
	for the platform you have Built the package and might be something 
	like <TT
CLASS="LITERAL"
>i386</TT
>, <TT
CLASS="LITERAL"
>i586</TT
>, 
	<TT
CLASS="LITERAL"
>sparc</TT
> or whatever, 
	<TT
CLASS="REPLACEABLE"
><I
>XXX</I
></TT
> stands 
	for the version number you have checked out.
    </P
><DIV
CLASS="NOTE"
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="common/note.png"
HSPACE="5"
ALT="Note"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>	<I
CLASS="EMPHASIS"
>Note for SuSE users: </I
>
	here you have to specify the directory
	<TT
CLASS="FILENAME"
>/usr/src/packages</TT
> instead 
	of <TT
CLASS="FILENAME"
>/usr/src/redhat</TT
> too!
    </P
></TD
></TR
></TABLE
></DIV
><OL
TYPE="1"
><LI
><P
>	    First build the libkwave package and install it. Assuming that
	    you are in the root of where you checked out from CVS, do the 
	    following to create a Makefile, the libkwave package and 
	    install it. If you already have a version of libkwave installed,
	    please remove it first or use <TT
CLASS="LITERAL"
>rpm -U</TT
> instead
	    of <TT
CLASS="LITERAL"
>rpm -i</TT
> for updating instead of installing.
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="SCREEN"
> <TT
CLASS="PROMPT"
>% </TT
><B
CLASS="COMMAND"
>cd libkwave</B
>
 <TT
CLASS="PROMPT"
>% </TT
><B
CLASS="COMMAND"
>make -f Makefile.dist</B
>
 <TT
CLASS="PROMPT"
>% </TT
><B
CLASS="COMMAND"
>./configure</B
>
 <TT
CLASS="PROMPT"
>% </TT
><B
CLASS="COMMAND"
>make rpm</B
>
 <TT
CLASS="PROMPT"
>% </TT
><B
CLASS="COMMAND"
>rpm -i /usr/src/redhat/BUILD/<TT
CLASS="REPLACEABLE"
><I
>[arch]/libkwave-XXX.[arch].rpm</I
></TT
></B
></PRE
></TD
></TR
></TABLE
>
	</P
></LI
><LI
><P
>	Then go on and do the same with the <SPAN
CLASS="APPLICATION"
>Kwave</SPAN
> package:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="90%"
><TR
><TD
><PRE
CLASS="SCREEN"
> <TT
CLASS="PROMPT"
>% </TT
><B
CLASS="COMMAND"
>cd kwave</B
>
 <TT
CLASS="PROMPT"
>% </TT
><B
CLASS="COMMAND"
>make -f Makefile.dist</B
>
 <TT
CLASS="PROMPT"
>% </TT
><B
CLASS="COMMAND"
>./configure</B
>
 <TT
CLASS="PROMPT"
>% </TT
><B
CLASS="COMMAND"
>make rpm</B
>
 <TT
CLASS="PROMPT"
>% </TT
><B
CLASS="COMMAND"
>rpm -i /usr/src/redhat/BUILD/<TT
CLASS="REPLACEABLE"
><I
>[arch]/kwave-XXX.[arch].rpm</I
></TT
></B
></PRE
></TD
></TR
></TABLE
>
	</P
></LI
></OL
><DIV
CLASS="NOTE"
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="common/note.png"
HSPACE="5"
ALT="Note"></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>	If you still have problems with <B
CLASS="COMMAND"
>make rpm</B
>, 
	you will find the tar.gz
	archives that were produced under <TT
CLASS="FILENAME"
>/tmp</TT
>.
	Please follow the instructions in the
	<A
HREF="building_rpm_from_targz.html#MANUAL_RPM_CREATION"
>previous</A
> chapter.
    </P
></TD
></TR
></TABLE
></DIV
></DIV
></DIV
><DIV
ALIGN="RIGHT"
CLASS="NAVBAR"
><P
><A
HREF="relocating_rpm.html"
>Next</A
> <A
HREF="building_rpm_from_targz.html"
>Prev</A
> <A
HREF="index.html"
>Table of Contents</A
></P
></DIV
><HR
WIDTH="100%"
SIZE="2"
ALIGN="CENTER"
NOSHADE="NOSHADE"></BODY
></HTML
>